{% extends "admin.html" %}
{% block admin %}
<div class="page-header">
    <h2>Overview</h2>
</div>

<p class="lead">There are <strong>{{ pairs|length }}</strong> applicants.</p>
<div class="table-responsive">
    <table class="table table-condensed table-hover table-striped">
        <thead>
            <tr>
                <th>Division</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Submitted?</th>
            </tr>
        </thead>
        <tbody>
            {% for user in pairs %}
            <tr class="clickable-row" href="/admin/show/{{ user[0].auth_ids[0] }}">
                <td>{{ user[0].division }}</td>
                <td>{{ user[0].first_name }}</td>
                <td>{{ user[0].last_name }}</td>
                <td>{{ user[0].email }}</td>
                {% if user[1].early_submission %}
                    <td class="text-success"><span class="glyphicon glyphicon-ok"></span> <span class="glyphicon glyphicon-time"></span></td>
                {% elif user[1].submit_time %}
                    <td class="text-success"><span class="glyphicon glyphicon-ok"></span></td>
                {% else %}
                    <td class="text-danger"><span class="glyphicon glyphicon-remove"></span></td>
                {% endif %}
            </td>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
{% block admin_scripts %}
<script>
function clickableRows() {
    $(".clickable-row").click(function() {
        window.open($(this).attr('href'), '_blank');
    });
}
$(document).ready(clickableRows);
</script>
{% endblock %}
