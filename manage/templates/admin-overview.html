{% extends "admin.html" %}
{% block admin %}
<div class="page-header">
    <h2>Overview</h2>
</div>

<p>There are {{ applicants|length }} applicants.</p>
<div class="table-responsive">
    <table class="table table-condensed table-hover table-striped">
        <thead>
            <tr>
                <th>Division</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
            </tr>
        </thead>
        <tbody>
            {% for user in applicants %}
            <tr class="clickable-row" href="/admin/show/{{ user.auth_ids[0] }}">
                <td>{{ user.division }}</td>
                <td>{{ user.first_name }}</td>
                <td>{{ user.last_name }}</td>
                <td>{{ user.email }}</td>
            </td>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
{% block admin_scripts %}
<script>
function clickableRows() {
    $(".clickable-row").click(function() {
        window.open($(this).attr('href'), '_blank');
    });
}
$(document).ready(clickableRows);
</script>
{% endblock %}
